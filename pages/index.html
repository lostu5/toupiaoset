<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="../layui/css/layui.css">
  <link rel="stylesheet" href="../css/all.css">
  <link rel="stylesheet" href="../css/index.css">
  <title>开始使用layui</title>
</head>
<body class="layui-layout-body"><div  class="layui-layout layui-layout-admin">
	<div class="layui-header">
	 <div class="layui-logo"><img src="../images/logo.png"/></div>
		<ul class="layui-nav layui-layout-left"  lay-filter="demo">
			
		  <li class="layui-nav-item"><a href="">首页</a></li>
		  <li class="layui-nav-item layui-this">
		    <a href="javascript:;">创建投票</a>
		    <!--<dl class="layui-nav-child">
		      <dd><a href="">选项1</a></dd>
		      <dd><a href="">选项2</a></dd>
		      <dd><a href="">选项3</a></dd>
		    </dl>-->
		  </li>
		  <li class="layui-nav-item"><a href="javascript:;">管理投票</a></li>
		  <li class="layui-nav-item">
		    <a href="javascript:;">帮助中心</a>
		  </li>
		  <li class="layui-nav-item"><a href="javascript:;">关于我们</a></li>
		</ul>
		<ul class="layui-nav layui-layout-right" style="padding-top: 20px;">
      <li class="layui-nav-item islog">
        <a href="javascript:;">
          <img src="http://t.cn/RCzsdCq" class="layui-nav-img">贤心
        </a>
      </li>
      <li class="layui-nav-item islog"><a href="">退了</a></li>
      <li class="layui-nav-item nolog"><a href=""><button class="layui-btn layui-btn-sm">登录</button></a></li>
    </ul>
</div>  
</div> 
  <div class="layui-body my-body">
  	<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
		  <ul class="layui-tab-title site-demo-title">
		    <li class="layui-this">基本设置</li>
		    <li>附加设置</li>
		  </ul>
		  <div class="layui-tab-content" style="height: 100px;">
		    <div class="layui-tab-item layui-show">
		    	    <!-- 内容主体区域 1-->
			   		<form class="layui-form" action="">
					  <div class="layui-form-item">
					    <label class="layui-form-label">活动名称</label>
					    <div class="layui-input-block">
					      <input type="text" name="activityTitle" required  lay-verify="required" placeholder="请输入名称" autocomplete="off" id="activityTitle" class="layui-input">
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">活动时间</label>
					    <div class="layui-input-block">
					    	<div class="layui-inline">
					    		<input type="text" class="layui-input" id="startDate" name="startDate" value="" placeholder="请选择开始时间" lay-key="1">
					    	</div>
					    	<div class="layui-inline">
					    		---
					    	</div>
					    	<div class="layui-inline">
					    		<input type="text" class="layui-input" id="endDate" name="endDate" value="" placeholder="请选择结束时间" lay-key="2">
					    	</div>		      
					    </div>
					  </div>
					  <!--第1个文本编辑-->
					  <div class="layui-form-item editor01" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="titile" lay-verify="required" placeholder="活动介绍" autocomplete="off" class="layui-input titile" value="活动介绍">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义活动介绍</div>
					  </div>
					  <div class="layui-form-item" editor01>
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor0" class="editor"></div>
					    </div>
					  </div>
					  <!--第1个文本编辑end-->
					  <!--第2个文本编辑-->
					  <div class="layui-form-item editor02" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"  lay-verify="required" placeholder="投票规则" autocomplete="off" class="layui-input titile" value="投票规则">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义投票规则</div>
					  </div>
					  <div class="layui-form-item editor02">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor1" class="editor"></div>
					    </div>
					  </div>
					  <!--第2个文本编辑end-->
					  <!--第3个文本编辑-->
					  <div class="layui-form-item editor03" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"  lay-verify="required" placeholder="奖品说明" autocomplete="off" class="layui-input titile" value="奖品说明">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义奖品说明</div>
					  </div>
					  <div class="layui-form-item editor03">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor2" class="editor"></div>
					    </div>
					  </div>
					  <!--第3个文本编辑end-->
					  <!--第4个文本编辑-->
					  <div class="layui-form-item editor04" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"  lay-verify="required" placeholder="主办单位" autocomplete="off" class="layui-input titile" value="主办单位">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义主办单位</div>
					  </div>
					  <div class="layui-form-item editor04">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor3" class="editor"></div>
					    </div>
					  </div>
					  <!--第4个文本编辑end-->
					  <!--第5个文本编辑-->
					  <div class="layui-form-item editor05 layui-hide" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"   placeholder="自定义内容" autocomplete="off" class="layui-input titile">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义内容</div>
					  </div>
					  <div class="layui-form-item editor05 layui-hide">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor4" class="editor"></div>
					    </div>
					  </div>
					  <!--第5个文本编辑end-->
					  <!--第6个文本编辑-->
					  <div class="layui-form-item editor06 layui-hide" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"   placeholder="自定义内容" autocomplete="off" class="layui-input titile">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义内容</div>
					  </div>
					  <div class="layui-form-item editor06 layui-hide">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor5" class="editor"></div>
					    </div>
					  </div>
					  <!--第6个文本编辑end-->
					  <!--第7个文本编辑-->
					  <div class="layui-form-item editor07 layui-hide" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"   placeholder="自定义内容" autocomplete="off" class="layui-input titile">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义内容</div>
					  </div>
					  <div class="layui-form-item editor07 layui-hide">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor6" class="editor"></div>
					    </div>
					  </div>
					  <!--第7个文本编辑end-->
					  <!--第8个文本编辑-->
					  <div class="layui-form-item editor08 layui-hide" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"  placeholder="自定义内容" autocomplete="off" class="layui-input titile">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义内容</div>
					  </div>
					  <div class="layui-form-item editor08 layui-hide">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor7" class="editor"></div>
					    </div>
					  </div>
					  <!--第8个文本编辑end-->
					  <!--第9个文本编辑-->
					  <div class="layui-form-item editor09 layui-hide" style="margin-bottom: 5px;">
					    <label class="layui-form-label">标题</label>
					    <div class="layui-input-inline">
					      <input type="text" name="title"   placeholder="自定义内容" autocomplete="off" class="layui-input titile">
					    </div>
					    <div class="layui-form-mid layui-word-aux">自定义内容</div>
					  </div>
					  <div class="layui-form-item editor09 layui-hide">
					    <label class="layui-form-label">内容</label>
					    <div class="layui-input-block">
					      <div id="editor8" class="editor"></div>
					    </div>
					  </div>
					  <!--第9个文本编辑end-->
					  <!--添加按钮-->
					  <div class="layui-form-item" style="margin-bottom: 5px;">
					    <label class="layui-form-label"></label>
					    <div class="layui-input-block">
					     	<button type="button" class="layui-btn layui-inline addnew">
								  <i class="layui-icon">&#xe608;</i> 添加
								</button>
					    <div class="layui-word-aux layui-inline">添加新自定义文本</div>
					    </div>
					  </div>
					  <!--主题设置-->
					  <div class="layui-form-item">
					    <label class="layui-form-label">主题颜色</label>
					    <div class="layui-input-block">
					      <input type="radio" name="color" lay-filter="color" value="red" title="红色" checked>
					      <input type="radio" name="color" lay-filter="color" value="blue" title="蓝色">
					    </div>
					  </div>
					  <!--封面设置-->
					  <div class="layui-form-item" style="min-height: 288px;">
					    <label class="layui-form-label">活动封面</label>
					    <div class="layui-input-block">
					      <input type="radio" name="votePage" lay-filter="votePage" value="0" title="图片封面" checked>
					      <input type="radio" name="votePage" lay-filter="votePage" value="1" title="视频封面">
					    </div>
					    <div class="layui-input-block votePage">
					      	<div class="container">
					      		 <button class="layui-btn layui-btn-sm layui-btn-radius" type="button" id="select" lay-filter="selectpic">选择图片</button>
					      		 <button class="layui-btn layui-btn-sm layui-btn-radius layui-btn-normal layui-hide" type="button" id="add" >追加图片</button>
		                <input style="display: none;" type="file" id="file_input" multiple/> <!--用input标签并选择type=file，记得带上multiple，不然就只能单选图片了-->    
                    <div class="blannerimg" style="width: 100%;">
                    	
                    </div>
      						</div> 
					    </div>
					    <div class="layui-input-block votePage" style="display: none;">
					    	<input type="text" name="video"  id="video"  placeholder="请输入视频链接" autocomplete="off" class="layui-input"style="margin-top: 30px;">

					    </div>
					  </div>
					  
<!--					  
					  
					  
					  <div class="layui-form-item">
					    <label class="layui-form-label">选择框</label>
					    <div class="layui-input-block">
					      <select name="city" lay-verify="required">
					        <option value=""></option>
					        <option value="0">北京</option>
					        <option value="1">上海</option>
					        <option value="2">广州</option>
					        <option value="3">深圳</option>
					        <option value="4">杭州</option>
					      </select>
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">复选框</label>
					    <div class="layui-input-block">
					      <input type="checkbox" name="like[write]" title="写作">
					      <input type="checkbox" name="like[read]" title="阅读" checked>
					      <input type="checkbox" name="like[dai]" title="发呆">
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">开关</label>
					    <div class="layui-input-block">
					      <input type="checkbox" name="switch" lay-skin="switch">
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">单选框</label>
					    <div class="layui-input-block">
					      <input type="radio" name="sex" value="男" title="男">
					      <input type="radio" name="sex" value="女" title="女" checked>
					    </div>
					  </div>
					  <div class="layui-form-item layui-form-text">
					    <label class="layui-form-label">文本域</label>
					    <div class="layui-input-block">
					      <textarea name="desc" placeholder="请输入内容" class="layui-textarea"></textarea>
					    </div>
					  </div>-->
					  <div class="layui-form-item">
					    <div class="layui-input-block" style="text-align: center;">
					      <button class="layui-btn" type="button" id="submit" lay-filter="formDemo1">立即提交</button>
					      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
					    </div>
					  </div>
					</form>
	
  
		    </div>
		    <div class="layui-tab-item">
		    	    <!-- 内容主体区域 2-->
		     		<form class="layui-form" action="creatActivityInstall.do"  method="POST">
					  <div class="layui-form-item">
					    <label class="layui-form-label">报名时间</label>
					    <div class="layui-input-block">
					    	<div class="layui-input-inline" style="width: 250px;">
					    	<input type="radio" name="applicationTime" class="layui-inline"  value="0" title="活动结束前" checked>
					    <div class=" layui-word-aux layui-inline my-aux">活动结束前全时间段均可报名</div>
					      
					    </div>
					    <div class="layui-input-inline" style="width: 250px;">
					    	<input type="radio" name="applicationTime" class="layui-inline"   value="1" title="活动开始前">
					    <div class="layui-word-aux layui-inline my-aux">活动到达开始时间后选手不可报名</div>
					    </div>
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">选手顺序</label>
					    <div class="layui-input-block">
					    	<div class="layui-input-inline" style="width: 250px;">
					    	<input type="radio" name="playerSort" class="layui-inline"  value="0" title="编号" checked>
					    <div class=" layui-word-aux layui-inline my-aux">按选手编号排序</div>
					      
					    </div>
					    <div class="layui-input-inline" style="width: 250px;">
					    	<input type="radio" name="playerSort" class="layui-inline"   value="1 " title="时间 ">
					    <div class=" layui-word-aux layui-inline my-aux">按选手报名时间排序</div>
					    </div>
					    </div>
					  </div>
					  <div class="layui-form-item">
					    <label class="layui-form-label">漂浮物</label>
					    <div class="layui-input-block">
					    	<input type="radio" name="piaofu" class="layui-inline"  value="0" title="无" checked>
					    	<input type="radio" name="piaofu" class="layui-inline"   value="1" title="金子">
					    	<input type="radio" name="piaofu" class="layui-inline"   value="2" title="银子">
					    </div>
					  </div>
					  <div class="layui-form-item editor01" style="margin-bottom: 5px;">
					    <label class="layui-form-label">背景音乐</label>
					    <div class="layui-input-inline">
					      <input type="text" name="music"  lay-verify="required" placeholder="音乐链接地址" autocomplete="off" class="layui-input music_link">
					    </div>
					    <div class="layui-form-mid layui-word-aux">（选填）音乐链接前缀需为http或https开头的.mp3格式文件，否则不能播放</div>
					  </div>
					  

					  <!--报名选项-->
					  <div class="layui-form-item">
					    <label class="layui-form-label">报名选项</label>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">选手名称：</label>
					     <input type="radio" name="playername"  value="0" title="必填" checked>
					      
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">选手图片：</label>
					     <input type="radio" name="playerpic"  value="0" title="必填" checked>
					      <input type="radio" name="playerpic"  value="1" title="选填">
					      <input type="radio" name="playerpic"  value="2" title="隐藏">
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">选手描述：</label>
					     <input type="radio" name="playerRemarks" value="0" title="必填" checked>
					      <input type="radio" name="playerRemarks"  value="1" title="选填">
					      <input type="radio" name="playerRemarks"  value="2" title="隐藏">
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">选手手机：</label>
					     <input type="radio" name="playerTel"  value="0" title="必填" checked>
					      <input type="radio" name="playerTel" value="1" title="选填">
					      <input type="radio" name="playerTel"  value="2" title="隐藏">
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">选手视频：</label>
					     <input type="radio" name="playerVideo" value="0" title="必填" checked>
					      <input type="radio" name="playerVideo"  value="1" title="选填">
					      <input type="radio" name="playerVideo"  value="2" title="隐藏">
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">活动公告：</label>
					     <input type="radio" name="gonggao" lay-filter="pplbanner" value="0" title="启用" checked>
					      <input type="radio" name="gonggao" lay-filter="pplbanner" value="1" title="不启用">
					    </div>
					    <div class="layui-input-block">
					    	<input type="text" name="gonggaoContent"   id="gonggao" placeholder="请输入公告内容" autocomplete="off" class="layui-input pplbanner">
					    </div>
					  </div>
					
					  <div class="layui-form-item">
					    <label class="layui-form-label">审核模式</label>
					    <div class="layui-input-block">
					    	<div class="layui-input-inline" style="width: 290px;">
					    	<input type="radio" name="shenhe" class="layui-inline"  value="0" title="无需审核" checked>
					    <div class=" layui-word-aux layui-inline my-aux">选手报名后自动审核成功 无需手动审核</div>
					      
					    </div>
					    <div class="layui-input-inline" style="width: 290px;">
					    	<input type="radio" name="shenhe" class="layui-inline"   value="1" title="需要审核">
					    <div class="layui-word-aux layui-inline my-aux">选手报名后 需要及时审核选手</div>
					    </div>
					    </div>
					  </div>
						<div class="layui-form-item">
					    <label class="layui-form-label">投票设置</label>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label"style="width: 90px;">一个微信号：</label>
					     	<div class="layui-input-inline">
						      <select name="votelimit" lay-verify="required">
						        <option value="0">每天均可投</option>
						        <option value="1">活动时间内只能投一票</option>
						      </select>
						    </div>
						    
					     	<div class="layui-input-inline">
					     			<input type="text" name="limitnum"   placeholder="1" value="1"
 autocomplete="off" class="layui-input layui-input-inline" style="width: 50%;margin-right: 0;" onkeyup="this.value=this.value.replace(/\D/g,'')">
					     			<label class="layui-form-label" style="width: 30%;padding-left: 5px;text-align: left;">票</label>
					     	</div>
					    </div>
				      <div class="layui-input-block">
					    	<input type="radio" name="playervotelimit" class="layui-inline"  value="0" title="不限制" checked>
					    	<input type="radio" name="playervotelimit" class="layui-inline"   value="1" title="同一选手只能投一票">
						  </div>
					  </div>
						<div class="layui-form-item">
					    <label class="layui-form-label">防刷票</label>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label"style="width: 130px;">选手每小时最多得到</label>
					     	<div class="layui-input-inline">
					     			<input type="text" name="hour"   placeholder="500" autocomplete="off" class="layui-input layui-input-inline" style="width: 50%;margin-right: 0;" value="500" onkeyup="this.value=this.value.replace(/\D/g,'')" >
					     			<label class="layui-form-label" style="width: 30%;padding-left: 5px;text-align: left;">票</label>
					     	</div>
					    <div class="layui-form-mid layui-word-aux">状态为“0”时，不限选手得票数量</div>
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label"style="width: 130px;">选手每一天最多得到</label>
					     	<div class="layui-input-inline">
					     			<input type="text" name="day"   placeholder="2000" autocomplete="off" class="layui-input layui-input-inline" style="width: 50%;margin-right: 0;" value="2000" onkeyup="this.value=this.value.replace(/\D/g,'')">
					    	<label class="layui-form-label" style="width: 30%;padding-left: 5px;text-align: left;">票</label>
					     	</div>
					    <div class="layui-form-mid layui-word-aux">状态为“0”时，不限选手得票数量</div>
					    </div>
					  </div>
					  
						<div class="layui-form-item">
					    <label class="layui-form-label">投票</label>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">验证码：</label>
					     	<div class="layui-input-inline">
						      <select name="yanzhengma" lay-verify="required">
						        <option value="0">不启用</option>
						        <option value="1">启用</option>
						      </select>
						    </div>
					    </div>
					  </div>
						<div class="layui-form-item">
					    <label class="layui-form-label">虚拟数量</label>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">浏览量：</label>
					     	<input type="text" name="liulan" id="unreal_num"
  value="0" autocomplete="off" class="layui-input layui-input-inline" onkeyup="this.value=this.value.replace(/\D/g,'')" />
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">投票数：</label>
					     	<input type="text" name="votenum"   value="0" autocomplete="off" class="layui-input layui-input-inline" onkeyup="this.value=this.value.replace(/\D/g,'')"/>
					    </div>
					    <div class="layui-input-block layui-input-blockin">
					    	<label class="layui-form-label">报名数：</label>
					     	<input type="text" name="liulan_input"   value="0" autocomplete="off" class="layui-input layui-input-inline" onkeyup="this.value=this.value.replace(/\D/g,'')"/>
					    <div class="layui-form-mid layui-word-aux">（前台显示的虚拟数量 设置后将和真实数据叠加 0为不设置）</div>
					    </div>
					  </div>
						<div class="layui-form-item">
					    <div class="layui-input-block" style="text-align: center;">
					      <button class="layui-btn" lay-submit lay-filter="formDemo2">立即提交</button>
					      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
					    </div>
					  </div>
		
		
		
					  </div>

					  
					</form>
		    </div>
		  </div>
		</div> 
</div>
 

<input id="activityId" value="c4f8e5312b9d4d319fc5f8f228587d6a" type="hidden"/>
<input type="hidden" value="5" id="number">

</body>
<script src="../layui/layui.js"></script>
<script src="../js/wangEditor.js"></script>
<script>
//一般直接写在一个js文件中
layui.use(['layer', 'form','element','laydate'], function(){
  var $ = layui.$
  ,layer = layui.layer
  ,form = layui.form
  ,element = layui.element
  ,laydate = layui.laydate;
  
  element.on('tab(docDemoTabBrief)', function(data){
   		$(".layui-body").scrollTop(0)
  });



    //点击第一个提交end
   //监听导航点击p
  element.on('nav(demo)', function(elem){
    //console.log(elem)
    layer.msg(elem.text());
  });
  laydate.render({
  elem: '#startDate' //指定元素
  ,type: 'datetime'
	});
  laydate.render({
  elem: '#endDate' //指定元素
  ,type: 'datetime'
	});
	
	/*富文本*/
		 var E = window.wangEditor
	 
     var editor0 = new E('#editor0');
     editor0.customConfig.uploadImgShowBase64 = true;
     editor0.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor0.customConfig.uploadImgMaxLength = 5
     editor0.create();
     
    
     var editor1 = new E('#editor1');
     editor1.customConfig.uploadImgShowBase64 = true;
     editor1.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor1.customConfig.uploadImgMaxLength = 5
     editor1.create();
     
    
     var editor2 = new E('#editor2');
     editor2.customConfig.uploadImgShowBase64 = true;
     editor2.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor2.customConfig.uploadImgMaxLength = 5
     editor2.create();
     
    
     var editor3 = new E('#editor3');
     editor3.customConfig.uploadImgShowBase64 = true;
     editor3.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor3.customConfig.uploadImgMaxLength = 5
     editor3.create();
     
     var editor4 = new E('#editor4');
     editor4.customConfig.uploadImgShowBase64 = true;
     editor4.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor4.customConfig.uploadImgMaxLength = 5
     editor4.create();
     
     var editor5 = new E('#editor5');
     editor5.customConfig.uploadImgShowBase64 = true;
     editor5.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor5.customConfig.uploadImgMaxLength = 5
     editor5.create();
     
     var editor6 = new E('#editor6');
     editor6.customConfig.uploadImgShowBase64 = true;
     editor6.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor6.customConfig.uploadImgMaxLength = 5
     editor6.create();
     
     var editor7 = new E('#editor7');
     editor7.customConfig.uploadImgShowBase64 = true;
     editor7.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor7.customConfig.uploadImgMaxLength = 5
     editor7.create();
     
     var editor8 = new E('#editor8');
     editor8.customConfig.uploadImgShowBase64 = true;
     editor8.customConfig.uploadImgMaxSize = 5 * 1024 * 1024;
     editor8.customConfig.uploadImgMaxLength = 5
     editor8.create();

	/*富文本end*/
	 selectIntroduce()
	function  selectIntroduce(){

    var activityId=$("#activityId").val();
		$.ajax({
  	  type: 'POST',
  	  url: 'http://192.168.100.249:8080/votingSystem/selectIntroduce.do',//发送请求
  	  data: {activityId : activityId},
  	  dataType : "html",
  	  success: function(data) {
  	  		var length=data.length;
				 for(var i=length-1;i>=0;i--){
					switch (i)
						{
					case 0:
						editor0.txt.html(data[0].activityContent);
							break;
					case 1:
						editor1.txt.html(data[1].activityContent);
							break;
					case 2:
						editor2.txt.html(data[2].activityContent);
							break;
					case 3:
						editor3.txt.html(data[3].activityContent);
							break;
					case 4:
						editor4.txt.html(data[4].activityContent);
							break;
					case 5:
						editor5.txt.html(data[5].activityContent);
							break;
					case 6:
						editor6.txt.html(data[6].activityContent);
							break;
					case 7:
						editor7.txt.html(data[7].activityContent);
							break;
					case 8:
						editor8.txt.html(data[8].activityContent);
							break;
						}
				}
  	  }
		})
	}
	$(".addnew").on("click",function(){
			var i=$("#number").val();
			if (i>=9) {
		  	layer.open({
				  title: '提示'
				  ,content: '最多可以建立9个自定义文本'
				});    
		  }
		  $(".editor0"+i).removeClass("layui-hide");
		  $("#number").val(Number(i)+1);
		  

	})
	
	/*图片上传*/
			form.on('radio(votePage)', function (data) {
           // alert(data.elem);
           // console.log(data.elem);
         //   alert(data.value);//判断单选框的选中值
            if (data.value=="1") {
            	$(".votePage").hide().eq(1).show()
            }else {
            	$(".votePage").hide().eq(0).show()
            }
            //console.log(data.value);
            //alert(data.othis);
            //layer.tips('开关checked：' + (this.checked ? 'true' : 'false'), data.othis);
            //layer.alert('响应点击事件');
       });
/*公告启用*/	
			form.on('radio(pplbanner)', function (data) {
            if (data.value=="0") {
            	$(".pplbanner").show()
            }else {
            	$(".pplbanner").hide()
            }
            //console.log(data.value);
            //alert(data.othis);
            //layer.tips('开关checked：' + (this.checked ? 'true' : 'false'), data.othis);
            //layer.alert('响应点击事件');
       });

     			form.on('submit(formDemo2)', function (data) {
           layer.alert(JSON.stringify(data.field), {
				      title: '最终的提交信息'
				    })
    			return false;
       });
	 var input = document.getElementById("file_input");    
    var result;    
    dataArr = []; // 储存所选图片的结果(文件名和base64数据)  
    var fd;  //FormData方式发送请求    
    var oSelect = document.getElementById("select");  
    var oAdd = document.getElementById("add");  
    var oSubmit = document.getElementById("submit");  
    var oInput = document.getElementById("file_input");  
     
    if(typeof FileReader==='undefined'){    
        alert("抱歉，你的浏览器不支持 FileReader");    
        input.setAttribute('disabled','disabled');    
    }else{    
        input.addEventListener('change',readFile,false);    
    }//handler    
    
        
    function readFile(){  
    	
    	if(dataArr.length>2){
    		alert("最多上传3张图片");
    	}else{
    		fd = new FormData();    
            var iLen = this.files.length;  
            //var index = 0;  
            for(var i=0;i<iLen;i++){  
                if (!input['value'].match(/.jpg|.gif|.png|.jpeg|.bmp/i)){//判断上传文件格式    
                    return alert("上传的图片格式不正确，请重新选择");    
                }  
                var reader = new FileReader();  
                reader.index = i;    
                fd.append(i,this.files[i]);  
                reader.readAsDataURL(this.files[i]);  //转成base64    
                reader.fileName = this.files[i].name;  
      
      
                reader.onload = function(e){   
                    var imgMsg = {    
                        name : this.fileName,//获取文件名    
                        base64 : this.result   //reader.readAsDataURL方法执行完后，base64数据储存在reader.result里    
                    }   
                    if(dataArr.length>2){
                    	alert("最多上传3张图片");
                    }else{
                    	dataArr.push(imgMsg);    
                        result = '<div class="delete">delete</div><div class="result"><img src="'+this.result+'" alt=""/></div>';    
                        var div = document.createElement('div');  
                        div.innerHTML = result;    
                        div['className'] = 'float';  
                        div['index'] = index;    
                        document.getElementsByClassName('blannerimg')[0].appendChild(div);  //插入dom树    
                        var img = div.getElementsByTagName('img')[0];  
                        img.onload = function(){    
                            var nowHeight = ReSizePic(this); //设置图片大小    
                            this.parentNode.style.display = 'block';    
                            var oParent = this.parentNode;    
                            if(nowHeight){    
                                oParent.style.paddingTop = (oParent.offsetHeight - nowHeight)/2 + 'px';    
                            }    
                        }   
                        
                        div.onclick =function(){
                        	this.remove();                  //在页面中删除该图片元素
                        	//delete dataArr[this.index];     //删除dataArr对应的数据
                        	dataArr.splice(this.index,1);   //删除dataArr对应的数据
                        	//alert(dataArr.length);          
                        }
                        index++;
                    }
                    if ($(".blannerimg").find(".float").length>"0") {
                    	 $("#add").removeClass("layui-hide")
                    	 $("#select").text("重新选择")
                    }
                    
                  
                    
                }    
            } 
    	}
    	
           
    }    
        
        
    function send(){ 
  		  var titles = new Array();
  		  var contents = new Array();
  		  var activityTitle=$("#activityTitle").val();
  		  var startDate=$("#startDate").val();
  		  var endDate=$("#endDate").val();
  		  var title = document.getElementsByClassName("titile");
  		  var votePage = $('input[name="votePage"]:checked').val();
  		  var color= $('input[name="color"]:checked').val();
  		  var video = $("#video").val();
  	         for(var i=0;i<title.length;i++){
  	        	 if(title[i].value!=""){
  	    	   titles.push(title[i].value) 
  	        	 }
  	      }   
  	         contents.push(editor0.txt.html());
  	         contents.push(editor1.txt.html());
  	         contents.push(editor2.txt.html());
  	         contents.push(editor3.txt.html());
  	         contents.push(editor4.txt.html());
  	         contents.push(editor5.txt.html());
  	         contents.push(editor6.txt.html());
  	         contents.push(editor7.txt.html());
  	         contents.push(editor8.txt.html());
  	         contents=contents.slice(0,titles.length);
  	       
        var submitArr = [];  
        for (var i = 0; i < dataArr.length; i++) {  
            if (dataArr[i]) {  
                submitArr.push(dataArr[i]);  
            }  
        }  
        console.log(JSON.stringify(submitArr));
         $.ajax({
                url: "http://192.168.100.249:8080/votingSystem/creatActivity.do",
                type : 'post',
			  				data : {
			  					activityTitle : activityTitle,
			  					startDate : startDate,
			  					endDate : endDate,
			  					title : JSON.stringify(titles),
			  					content : JSON.stringify(contents),
			  					votePage : votePage,
			  					mulImg : JSON.stringify(submitArr),
			  					video : video,
			  					color : color
			  				},
			  				success : function(data) {
			  					$("#activityId").val(data);
			             
			  				},
			          error:function (data) {
								}
  			});
             
    }    
        
     
  
  
    oSelect.onclick=function(){   
        oInput.value = "";   // 先将oInput值清空，否则选择图片与上次相同时change事件不会触发  
        //清空已选图片  
        $('.float').remove();  
        dataArr = [];   
        index = 0;          
        oInput.click();   
    }   
  
  
    oAdd.onclick=function(){  
        oInput.value = "";   // 先将oInput值清空，否则选择图片与上次相同时change事件不会触发  
        oInput.click();   
    }   
  
  
    oSubmit.onclick=function(){
        if(!dataArr.length){    
            return alert('请先选择文件');    
        }    
        send();    
    }
    
    
    
    
   
  
function ReSizePic(ThisPic) {    
    var RePicWidth = 200; //这里修改为您想显示的宽度值    
    
    var TrueWidth = ThisPic.width; //图片实际宽度    
    var TrueHeight = ThisPic.height; //图片实际高度    
        
    if(TrueWidth>TrueHeight){    
        //宽大于高    
        var reWidth = RePicWidth;    
        ThisPic.width = reWidth;    
        //垂直居中    
        var nowHeight = TrueHeight * (reWidth/TrueWidth);    
        return nowHeight;  //将图片修改后的高度返回，供垂直居中用    
    }else{    
        //宽小于高    
        var reHeight = RePicWidth;    
        ThisPic.height = reHeight;    
    }
    }

	/*图片上传end*/
	
	
});
</script> 
</html>
